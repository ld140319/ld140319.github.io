<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="算法,面试现场,数据结构,">





  <link rel="alternate" href="/atom.xml" title="搬运工 + 践行者" type="application/atom+xml">






<meta name="description" content="如何在10亿数中找出前1000大的数  原文地址：https://mp.weixin.qq.com/s?__biz=MzIzMTE1ODkyNQ==&amp;amp;mid=2649410393&amp;amp;idx=1&amp;amp;sn=e2aae1e16baede316922c53256a10c5f&amp;amp;chksm=f0b60ebbc7c187ad4e48b140daff2c80e5007076e99b26">
<meta name="keywords" content="算法,面试现场,数据结构">
<meta property="og:type" content="article">
<meta property="og:title" content="如何在10亿数中找出前1000大的数">
<meta property="og:url" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/index.html">
<meta property="og:site_name" content="搬运工 + 践行者">
<meta property="og:description" content="如何在10亿数中找出前1000大的数  原文地址：https://mp.weixin.qq.com/s?__biz=MzIzMTE1ODkyNQ==&amp;amp;mid=2649410393&amp;amp;idx=1&amp;amp;sn=e2aae1e16baede316922c53256a10c5f&amp;amp;chksm=f0b60ebbc7c187ad4e48b140daff2c80e5007076e99b26">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzctMH7BGDEKicbm0iac5rib21ibsl5ffljKH00F9pdCs9vqvlzNgkicVxctfQcJ8e7PKEAaOFqmzkLmR9Q.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5K7kvHOpMHD2kgBSu2f0eKeReswC2ibZEneibEvue9W29UcKNxq9vTmUrA.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KWS6s1KxtV07sOsz5CEdv8D8u0nufCPQeaToWTmQpHsHb0qXPugbvbg.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KaW8Xn2QPyeZAVzKgSPV7L2k1kUjjYZiayribywTDsY2jXpHjC9LwSfqw.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KT9snKp89fwsj6l8CAeEJTW0Sh4ibibIHKmN8GNYuGpFjE5ziadicncOaTg.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KCgZntlnDuBzriaPbSkN7vCYhjTua2LhrHZyaW9kG4Ajc0s5kuyA70Kw.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KwX7tVcBoIXrNCLR4ibF9njSdl3LJqRAxFtK6LOIR4hUI8TC57dK3eibA.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KJvMpiazia1mDC0uia5XnQZ8RCOJd63em1gPDSj8DHFRlN56TToDWvVQqA.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5K2yINKyHmksqCBibYf4dcwWyoK5ConwBvL5Fhxd29aXTt4lS7VZFwKsw.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KwTYh69mfhlZclnE0iczlPNRx5X2sH5ALGdIHWp8TicBDwCzibB7g9LxNA.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5Kibo7NviciaIsF0LxEbiclKIYjxdxJk1ibvGAu3NatGU2Q8gxdIM00S4lHgA.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5K5h2C2Wbj7DJFXRLEKicWtzFYrY1VRptR84XUIn8Cca0SNmDM4docemQ.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KIBXkvmovwxtsdsSuwHHuSBLWRzPy3WC1rD9Ao4tOfXjZicHIv7yNymA.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzfBiaaLdFPcYObq38F6wTEDo2ghNUTKjboqicoe1rs5ZucO2u4VcyYKZP9RWxlXjxYibKQ15j6FuibxtQ.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5Kic7MR1Dr3cbic3DNEflzgeibf9OAUlJx8KAXjh79Wmu5SmnC527b8c0Eg.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KUrgy4jSHj1Ixwy2P3TfkO0CdJKvAzofBePzriaFeSNPUo2nVuwicCp2A.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KjauOz0Mx8GAKqLcoJolmJMc7AGrd2ia4YZMZImrl2YTaicxRXFriaLmPg.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzfBiaaLdFPcYObq38F6wTEDoVu8VwOYNj169r4Cicq59rAAp7GGnueszjW81cZiazNFhgqBLytzKia0Jw.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5K4dbjnvyOVftx4LfGVd4RKT6cDrJJgua6dMIWs6lhoCyiadSVStzictaA.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5K6MDxamiceNJZu4AWdhsDYAhIiaVnb6nWYfugLeMepZJBuuqpsFQFH22A.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KMPBlwV6W05uQbOxEMibWOD7tOKe5iaCaAqFjNtoIjmQ3McSPuRAMMQ3Q.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KPkElCdzZ9hQtcY21Tl1L61TlRLIibXQJEt8DpSj5T29dKAGVmia5gIXg.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KPFdPcuibVwT982K9LTktlNrSLkfbicuNPekmDDz377ibtbV3HFSIzFCqw.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KpW6b78SgW0mZocRnRZRmpric5Z3ZLWGXVgPd193BqrTPuiarGy4OzTCw.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5Kb8ZyeIlZsOzRZrJ431tFY58tyYCtd07mIc0rPfRoocwfvSmbg9sWFA.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzfBiaaLdFPcYObq38F6wTEDoEOrHQPRicpQdwC5BzOmaPLgozoDJctuicjCqk8uVscjKIKeS59P0ndSQ.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KeNKUqwU0BXSRwlicpLz82wP94We9NgBiavN9zr3Bmtcs7d1WUBHibxr3w.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KRpD0nHOhukevficATLwrsJecNzJ07QiaBSzPrMKmR55sOG7iaTBdDxvQw.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KmZu1Z6kHvJE4TjH73u7bSULQHc4PAS9picoibUxvcnUCq71sbxYibLl3w.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KPAfwtOEua8ClwDHib1H3QwgTBumCOkLiaz1v4NiaTAMlqXaFkBlspumeg.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzfBiaaLdFPcYObq38F6wTEDoXpc9doQnaMd1nxq6PMChXggYLAddQ3m6nBgBprRFejfhmWiaxyl8Vicw.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5K49b68XaFBgIOu4JBXur3ZSY9FDzsicpoa7bOxzPuIqHeGpdJRPTw9jA.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KqV6ZsibibibI5unkBOicjmL6MHtRHn1ibqHEQdaniaeEAia6yxdrvKV15KgQQ.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KJ3he6Nehbd3ah2zZcibZbBBWsJ4f1w30ibPQnwqEKpQDxzh06EWA49QA.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KwUe12fHFJy8DcThm96Bf2kEKjOlTz5lsF11XmqiaxfnibAicFs9kCQJTw.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzfBiaaLdFPcYObq38F6wTEDol2vht9dlQF0cG1icKBreOH9aSrxSuiayz01YErHkNjticG686YBhbaribw.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KUqqEEBeaASicflVkXJTib7BhvQ1HmR3VHUicyEUiaibDmYGhZcUvdIo7BFg.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KSs5EoQKZ9MBic2wmdtibFKJNs2Q8wQbpHJajicOqUl6bpfUssgKNTwVJA.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzfBiaaLdFPcYObq38F6wTEDocB5utmRia8sVzFzKbFAquZX5klVON1qyag2ewTP2PC3zdnvVaCa82JQ.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzfBiaaLdFPcYObq38F6wTEDoXrTPbfsn7VLTMES6n97QrLXVbKv5H1IRzler2341HGaONib4tJ8BmFw.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzfBiaaLdFPcYObq38F6wTEDoDKmvhSooLX1F5dk6Kf2KXulWHpVvhDEBYBKdO5t0bcRBriaPNQ0u2kg.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzfBiaaLdFPcYObq38F6wTEDoyvGVokXShLw30QtRDfjN7MVFzUWBZXpTOlQUgDySP0ds3utO050IvA.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzfBiaaLdFPcYObq38F6wTEDo9EbHtQAcgct7DfJYukxExzSxv89BPd4juTfN4m5mHRuUibNNLkz1vhg.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5K2QQnE5FfBP1CqmWR4oibHuVwC4kZKpWLx94fswQYoUCCDDfhhYkticMw.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KRVa98qy3X27eV6wOPvPn77iarpjgiaRgnvQLCC9Ivj0Kxq9Fib4aSyNYw.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KVjOo1QTiaaYwM5U9QKIMs3bIrXxrY2CHP0veGGHyOlCMib2EF1HiaY4qg.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5K2D7NGFTGABB3aBzIbciatticX25XRqDTCyoeGsXr4iaawiaBDAVBQRwklQ.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KYMGaQ5TSrbCkkq3S311ibD3VX7qORuaaticPSiabzvialc3DWWQbbTsoeQ.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KCTyNZicduKzJznOZnqPHg8cOY2WicTHop0m6aeR4R5vnvibzrP5crP3Lg.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KNNURicGzckTEmjCdmlqd7zjE3LzwmA5eFTvdBxYVBZPibLYnEbfxSXmA.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KFtNMznxEN04JsycVqmycE1RBQjrFeMfHHV2bznDwCGMcoAiamVR5picw.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KGToejuGDqXmjOUD2TnBXZQMJHxZFKosoB9oEmzydlbiacFz36nDLs7g.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5K749FKuicpZF3zkCTSmINRhPq0DInP2KBafR3AeTs712hw6JciaL69G0g.jpeg">
<meta property="og:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5K1PFPbcfmYLuicIrHSusXYF6jkoSR3oPavTxIUcm9slSRa3twyKDJH4w.jpeg">
<meta property="og:updated_time" content="2019-09-13T10:04:09.249Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="如何在10亿数中找出前1000大的数">
<meta name="twitter:description" content="如何在10亿数中找出前1000大的数  原文地址：https://mp.weixin.qq.com/s?__biz=MzIzMTE1ODkyNQ==&amp;amp;mid=2649410393&amp;amp;idx=1&amp;amp;sn=e2aae1e16baede316922c53256a10c5f&amp;amp;chksm=f0b60ebbc7c187ad4e48b140daff2c80e5007076e99b26">
<meta name="twitter:image" content="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzctMH7BGDEKicbm0iac5rib21ibsl5ffljKH00F9pdCs9vqvlzNgkicVxctfQcJ8e7PKEAaOFqmzkLmR9Q.jpeg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/">





  <title>如何在10亿数中找出前1000大的数 | 搬运工 + 践行者</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">搬运工 + 践行者</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">记录学习的技能和遇到的问题</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://blog.com/2019/05/24/如何在10亿数中找出前1000大的数/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="刘泽明">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="搬运工 + 践行者">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">如何在10亿数中找出前1000大的数</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-05-24T12:12:57+08:00">
                2019-05-24
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/算法/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/算法/面试现场/" itemprop="url" rel="index">
                    <span itemprop="name">面试现场</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/算法/面试现场/数据结构/" itemprop="url" rel="index">
                    <span itemprop="name">数据结构</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="如何在10亿数中找出前1000大的数"><a href="#如何在10亿数中找出前1000大的数" class="headerlink" title="如何在10亿数中找出前1000大的数"></a>如何在10亿数中找出前1000大的数</h1><p><br></p>
<blockquote>
<p>原文地址：<a href="https://mp.weixin.qq.com/s?__biz=MzIzMTE1ODkyNQ==&amp;mid=2649410393&amp;idx=1&amp;sn=e2aae1e16baede316922c53256a10c5f&amp;chksm=f0b60ebbc7c187ad4e48b140daff2c80e5007076e99b26427fef50dd7f19ffed5181ba45baed&amp;scene=21#wechat_redirect" target="_blank" rel="noopener">https://mp.weixin.qq.com/s?__biz=MzIzMTE1ODkyNQ==&amp;mid=2649410393&amp;idx=1&amp;sn=e2aae1e16baede316922c53256a10c5f&amp;chksm=f0b60ebbc7c187ad4e48b140daff2c80e5007076e99b26427fef50dd7f19ffed5181ba45baed&amp;scene=21#wechat_redirect</a></p>
</blockquote>
<p><br></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzctMH7BGDEKicbm0iac5rib21ibsl5ffljKH00F9pdCs9vqvlzNgkicVxctfQcJ8e7PKEAaOFqmzkLmR9Q.jpeg" alt="img"></p>
<p>小史是一个应届生，虽然学的是电子专业，但是自己业余时间看了很多互联网与编程方面的书，一心想进BAT互联网公司。</p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5K7kvHOpMHD2kgBSu2f0eKeReswC2ibZEneibEvue9W29UcKNxq9vTmUrA.jpeg" alt="img"></p>
<p>之前小史在BAT三家的面试中已经挂了两家，今天小史去了BAT中的最后一家面试了。</p>
<p>简单的自我介绍后，面试官给了小史一个问题。</p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KWS6s1KxtV07sOsz5CEdv8D8u0nufCPQeaToWTmQpHsHb0qXPugbvbg.jpeg" alt="img"></p>
<p><strong>【面试现场】</strong></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KaW8Xn2QPyeZAVzKgSPV7L2k1kUjjYZiayribywTDsY2jXpHjC9LwSfqw.jpeg" alt="img"></p>
<p><strong>题目：如何在10亿数中找出前1000大的数？</strong></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KT9snKp89fwsj6l8CAeEJTW0Sh4ibibIHKmN8GNYuGpFjE5ziadicncOaTg.jpeg" alt="img"></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KCgZntlnDuBzriaPbSkN7vCYhjTua2LhrHZyaW9kG4Ajc0s5kuyA70Kw.jpeg" alt="img"></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KwX7tVcBoIXrNCLR4ibF9njSdl3LJqRAxFtK6LOIR4hUI8TC57dK3eibA.jpeg" alt="img"></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KJvMpiazia1mDC0uia5XnQZ8RCOJd63em1gPDSj8DHFRlN56TToDWvVQqA.jpeg" alt="img"></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5K2yINKyHmksqCBibYf4dcwWyoK5ConwBvL5Fhxd29aXTt4lS7VZFwKsw.jpeg" alt="img"></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KwTYh69mfhlZclnE0iczlPNRx5X2sH5ALGdIHWp8TicBDwCzibB7g9LxNA.jpeg" alt="img"></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5Kibo7NviciaIsF0LxEbiclKIYjxdxJk1ibvGAu3NatGU2Q8gxdIM00S4lHgA.jpeg" alt="img"></p>
<p>小史：我可以用分治法，这有点类似快排中<code>partition</code>的操作。随机选一个数t，然后对整个数组进行<code>partition</code>，会得到两部分，前一部分的数都大于t，后一部分的数都小于t。</p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5K5h2C2Wbj7DJFXRLEKicWtzFYrY1VRptR84XUIn8Cca0SNmDM4docemQ.jpeg" alt="img"></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KIBXkvmovwxtsdsSuwHHuSBLWRzPy3WC1rD9Ao4tOfXjZicHIv7yNymA.jpeg" alt="img"></p>
<p>小史：<strong>如果说前一部分总数大于1000个，那就继续在前一部分进行<code>partition</code>寻找。如果前一部分的数小于1000个，那就在后一部分再进行<code>partition</code>，寻找剩下的数</strong>。</p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzfBiaaLdFPcYObq38F6wTEDo2ghNUTKjboqicoe1rs5ZucO2u4VcyYKZP9RWxlXjxYibKQ15j6FuibxtQ.jpeg" alt="img"></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5Kic7MR1Dr3cbic3DNEflzgeibf9OAUlJx8KAXjh79Wmu5SmnC527b8c0Eg.jpeg" alt="img"></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KUrgy4jSHj1Ixwy2P3TfkO0CdJKvAzofBePzriaFeSNPUo2nVuwicCp2A.jpeg" alt="img"></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KjauOz0Mx8GAKqLcoJolmJMc7AGrd2ia4YZMZImrl2YTaicxRXFriaLmPg.jpeg" alt="img"></p>
<p>小史：首先，<code>partition</code>的过程，时间是<code>o(n)</code>。我们在进行第一次<code>partition</code>的时候需要花费n，第二次<code>partition</code>的时候，数据量减半了，所以只要花费<code>n/2</code>，同理第三次的时候只要花费n/4，以此类推。而<code>n+n/2+n/4+...</code>显然是小于<code>2n</code>的，所以这个方法的渐进时间只有<code>o(n)</code></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzfBiaaLdFPcYObq38F6wTEDoVu8VwOYNj169r4Cicq59rAAp7GGnueszjW81cZiazNFhgqBLytzKia0Jw.jpeg" alt="img"></p>
<p>（注：这里的时间复杂度计算只是简化计算版，真正严谨的数学证明可以参考算法导论相关分析。）</p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5K4dbjnvyOVftx4LfGVd4RKT6cDrJJgua6dMIWs6lhoCyiadSVStzictaA.jpeg" alt="img"></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5K6MDxamiceNJZu4AWdhsDYAhIiaVnb6nWYfugLeMepZJBuuqpsFQFH22A.jpeg" alt="img"></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KMPBlwV6W05uQbOxEMibWOD7tOKe5iaCaAqFjNtoIjmQ3McSPuRAMMQ3Q.jpeg" alt="img"></p>
<p>半分钟过去了。</p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KPkElCdzZ9hQtcY21Tl1L61TlRLIibXQJEt8DpSj5T29dKAGVmia5gIXg.jpeg" alt="img"></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KPFdPcuibVwT982K9LTktlNrSLkfbicuNPekmDDz377ibtbV3HFSIzFCqw.jpeg" alt="img"></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KpW6b78SgW0mZocRnRZRmpric5Z3ZLWGXVgPd193BqrTPuiarGy4OzTCw.jpeg" alt="img"></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5Kb8ZyeIlZsOzRZrJ431tFY58tyYCtd07mIc0rPfRoocwfvSmbg9sWFA.jpeg" alt="img"></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzfBiaaLdFPcYObq38F6wTEDoEOrHQPRicpQdwC5BzOmaPLgozoDJctuicjCqk8uVscjKIKeS59P0ndSQ.jpeg" alt="img"></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KeNKUqwU0BXSRwlicpLz82wP94We9NgBiavN9zr3Bmtcs7d1WUBHibxr3w.jpeg" alt="img"></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KRpD0nHOhukevficATLwrsJecNzJ07QiaBSzPrMKmR55sOG7iaTBdDxvQw.jpeg" alt="img"></p>
<p>小史一时慌了神。</p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KmZu1Z6kHvJE4TjH73u7bSULQHc4PAS9picoibUxvcnUCq71sbxYibLl3w.jpeg" alt="img"></p>
<p>他回忆起了之前吕老师给他讲解<a href="http://mp.weixin.qq.com/s?__biz=MzIzMTE1ODkyNQ==&amp;mid=2649409856&amp;idx=1&amp;sn=448772acaf9b2f1a87f4d7c1caf4caa9&amp;chksm=f0b60ca2c7c185b4cb93d0deffed461e6ba3e421e362c17102415e351a496792fa26e0282dc0&amp;scene=21#wechat_redirect" target="_blank" rel="noopener">bitmap</a>时的一些细节。突然有了一个想法。</p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KPAfwtOEua8ClwDHib1H3QwgTBumCOkLiaz1v4NiaTAMlqXaFkBlspumeg.jpeg" alt="img"></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzfBiaaLdFPcYObq38F6wTEDoXpc9doQnaMd1nxq6PMChXggYLAddQ3m6nBgBprRFejfhmWiaxyl8Vicw.jpeg" alt="img"></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5K49b68XaFBgIOu4JBXur3ZSY9FDzsicpoa7bOxzPuIqHeGpdJRPTw9jA.jpeg" alt="img"></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KqV6ZsibibibI5unkBOicjmL6MHtRHn1ibqHEQdaniaeEAia6yxdrvKV15KgQQ.jpeg" alt="img"></p>
<p>小史在纸上画了画。</p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KJ3he6Nehbd3ah2zZcibZbBBWsJ4f1w30ibPQnwqEKpQDxzh06EWA49QA.jpeg" alt="img"></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KwUe12fHFJy8DcThm96Bf2kEKjOlTz5lsF11XmqiaxfnibAicFs9kCQJTw.jpeg" alt="img"></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzfBiaaLdFPcYObq38F6wTEDol2vht9dlQF0cG1icKBreOH9aSrxSuiayz01YErHkNjticG686YBhbaribw.jpeg" alt="img"></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KUqqEEBeaASicflVkXJTib7BhvQ1HmR3VHUicyEUiaibDmYGhZcUvdIo7BFg.jpeg" alt="img"></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KSs5EoQKZ9MBic2wmdtibFKJNs2Q8wQbpHJajicOqUl6bpfUssgKNTwVJA.jpeg" alt="img"></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzfBiaaLdFPcYObq38F6wTEDocB5utmRia8sVzFzKbFAquZX5klVON1qyag2ewTP2PC3zdnvVaCa82JQ.jpeg" alt="img"></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzfBiaaLdFPcYObq38F6wTEDoXrTPbfsn7VLTMES6n97QrLXVbKv5H1IRzler2341HGaONib4tJ8BmFw.jpeg" alt="img"></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzfBiaaLdFPcYObq38F6wTEDoDKmvhSooLX1F5dk6Kf2KXulWHpVvhDEBYBKdO5t0bcRBriaPNQ0u2kg.jpeg" alt="img"></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzfBiaaLdFPcYObq38F6wTEDoyvGVokXShLw30QtRDfjN7MVFzUWBZXpTOlQUgDySP0ds3utO050IvA.jpeg" alt="img"></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzfBiaaLdFPcYObq38F6wTEDo9EbHtQAcgct7DfJYukxExzSxv89BPd4juTfN4m5mHRuUibNNLkz1vhg.jpeg" alt="img"></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5K2QQnE5FfBP1CqmWR4oibHuVwC4kZKpWLx94fswQYoUCCDDfhhYkticMw.jpeg" alt="img"></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KRVa98qy3X27eV6wOPvPn77iarpjgiaRgnvQLCC9Ivj0Kxq9Fib4aSyNYw.jpeg" alt="img"></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KVjOo1QTiaaYwM5U9QKIMs3bIrXxrY2CHP0veGGHyOlCMib2EF1HiaY4qg.jpeg" alt="img"></p>
<p>理解了算法之后，小史的代码写起来也是非常快，不一会儿就写好了：</p>
<p><code>TopN.java</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xiaoshi on 2018/10/14.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TopN</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 父节点</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">parent</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (n - <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 左孩子</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">left</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span> * n + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 右孩子</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">right</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span> * n + <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 构建堆</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">buildHeap</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span>[] data)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> t = i;</span><br><span class="line">            <span class="comment">// 调整堆</span></span><br><span class="line">            <span class="keyword">while</span>(t != <span class="number">0</span> &amp;&amp; data[parent(t)] &gt; data[t]) &#123;</span><br><span class="line">                <span class="keyword">int</span> temp = data[t];</span><br><span class="line">                data[t] = data[parent(t)];</span><br><span class="line">                data[parent(t)] = temp;</span><br><span class="line">                t = parent(t);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 调整data[i]</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">adjust</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> n, <span class="keyword">int</span>[] data)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(data[i] &lt;= data[<span class="number">0</span>]) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 置换堆顶</span></span><br><span class="line">        <span class="keyword">int</span> temp = data[i];</span><br><span class="line">        data[i] = data[<span class="number">0</span>];</span><br><span class="line">        data[<span class="number">0</span>] = temp;</span><br><span class="line">        <span class="comment">// 调整堆顶</span></span><br><span class="line">        <span class="keyword">int</span> t = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>( (left(t) &lt; n &amp;&amp; data[t] &gt; data[left(t)])</span><br><span class="line">            || (right(t) &lt; n &amp;&amp; data[t] &gt; data[right(t)]) ) &#123;</span><br><span class="line">            <span class="keyword">if</span>(right(t) &lt; n &amp;&amp; data[right(t)] &lt; data[left(t)]) &#123;</span><br><span class="line">                <span class="comment">// 右孩子更小，置换右孩子</span></span><br><span class="line">                temp = data[t];</span><br><span class="line">                data[t] = data[right(t)];</span><br><span class="line">                data[right(t)] = temp;</span><br><span class="line">                t = right(t);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// 否则置换左孩子</span></span><br><span class="line">                temp = data[t];</span><br><span class="line">                data[t] = data[left(t)];</span><br><span class="line">                data[left(t)] = temp;</span><br><span class="line">                t = left(t);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 寻找topN，该方法改变data，将topN排到最前面</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">findTopN</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span>[] data)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 先构建n个数的小顶堆</span></span><br><span class="line">        buildHeap(n, data);</span><br><span class="line">        <span class="comment">// n往后的数进行调整</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = n; i &lt; data.length; i++) &#123;</span><br><span class="line">            adjust(i, n, data);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 打印数组</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">int</span>[] data)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; data.length; i++) &#123;</span><br><span class="line">            System.out.print(data[i] + <span class="string">" "</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>(友情提示：可左右滑动)</p>
<p><code>Main.java</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xiaoshi on 2018/10/14.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        TopN topN = <span class="keyword">new</span> TopN();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 第一组测试</span></span><br><span class="line">        <span class="keyword">int</span>[] arr1 = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">56</span>, <span class="number">30</span>, <span class="number">71</span>, <span class="number">18</span>, <span class="number">29</span>, <span class="number">93</span>, <span class="number">44</span>, <span class="number">75</span>, <span class="number">20</span>, <span class="number">65</span>, <span class="number">68</span>, <span class="number">34</span>&#125;;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"原数组："</span>);</span><br><span class="line">        topN.print(arr1);</span><br><span class="line">        topN.findTopN(<span class="number">5</span>, arr1);</span><br><span class="line">        System.out.println(<span class="string">"调整后数组："</span>);</span><br><span class="line">        topN.print(arr1);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 第二组测试</span></span><br><span class="line">        <span class="keyword">int</span>[] arr2 = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">1000</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;arr2.length; i++) &#123;</span><br><span class="line">            arr2[i] = i + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"原数组："</span>);</span><br><span class="line">        topN.print(arr2);</span><br><span class="line">        topN.findTopN(<span class="number">50</span>, arr2);</span><br><span class="line">        System.out.println(<span class="string">"调整后数组："</span>);</span><br><span class="line">        topN.print(arr2);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 第三组测试</span></span><br><span class="line">        Random random =<span class="keyword">new</span> Random();</span><br><span class="line">        <span class="keyword">int</span>[] arr3 = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">1000</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;arr3.length; i++) &#123;</span><br><span class="line">            arr3[i] = random.nextInt();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"原数组："</span>);</span><br><span class="line">        topN.print(arr3);</span><br><span class="line">        topN.findTopN(<span class="number">50</span>, arr3);</span><br><span class="line">        System.out.println(<span class="string">"调整后数组："</span>);</span><br><span class="line">        topN.print(arr3);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>(友情提示：可左右滑动)</p>
<p>运行结果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">原数组：</span><br><span class="line">56 30 71 18 29 93 44 75 20 65 68 34 </span><br><span class="line">调整后数组：</span><br><span class="line">65 68 71 75 93 18 29 30 20 44 56 34 </span><br><span class="line">原数组：</span><br><span class="line">1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100  </span><br><span class="line">调整后数组：</span><br><span class="line">951 952 955 954 953 956 957 963 968 964 972 961 979 959 958 967 966 969 974 965 970 973 988 962 983 993 986 981 987 992 960 976 1000 982 978 977 975 985 984 990 971 997 996 991 989 999 998 980 994 995 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 </span><br><span class="line">原数组：</span><br><span class="line">835636999 -90522479 -769818338 -1416245398 1041573706 1812203535 896607110 1789246766 1774883884 26722194 -418633859 1344767118 1570967674 1316806558 -1435502178 1473470755 -918439629 1869702742 2101404773 -1296472335 649689400 1153902366 -1052670714 498645159 -1530905537 -1159220094 -154125959 -868393434 -504505075 -1106082731 -494609447 -1406763201 -750828828 -342445539 -744595730 -1920006464 -1230413255 -1426324562 -1277878264 474935729 -2029054806 447026196 -1121975794 -1448358181 1957166126 1336854710 …… </span><br><span class="line">调整后数组：</span><br><span class="line">1960093727 1964906931 1970688292 1975808864 1981745799 1991241336 2022661667 1981095418 1998580270 1988169309 2008783098 2027208746 2136972032 2062185334 2058314391 2003774732 2022245178 2022674254 2076406457 2024695646 2106449320 2016192325 2039153729 2043057170 2042482994 2138695524 2139809413 2121618159 2067898415 2122335504 2101895240 2100462015 2054036800 2037921932 2067998974 2117710597 2133594097 2101404773 2077564852 2033907579 2035097590 2108250457 2122256662 2138496647 2088084171 2107415856 2077919162 ……</span><br></pre></td></tr></table></figure>
<p>(友情提示：可左右滑动)</p>
<p>（注：由于1000个数字符过多，超了微信文章限制，结果进行了省略，大家可以本地运行查看结果）</p>
<p>面试官看了一下。</p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5K2D7NGFTGABB3aBzIbciatticX25XRqDTCyoeGsXr4iaawiaBDAVBQRwklQ.jpeg" alt="img"></p>
<p>小史熟练地介绍起了自己的项目，由于准备充分，小史聊起来游刃有余。面试官问的几个问题也进行了详细的解释。</p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KYMGaQ5TSrbCkkq3S311ibD3VX7qORuaaticPSiabzvialc3DWWQbbTsoeQ.jpeg" alt="img"></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KCTyNZicduKzJznOZnqPHg8cOY2WicTHop0m6aeR4R5vnvibzrP5crP3Lg.jpeg" alt="img"></p>
<p>小史走后，面试官在系统中写下了面试评语：</p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="img"></p>
<p><strong>【遇见吕老师】</strong></p>
<p>小史回到学校哼着歌走在校园的路上，正好碰到吕老师。</p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KNNURicGzckTEmjCdmlqd7zjE3LzwmA5eFTvdBxYVBZPibLYnEbfxSXmA.jpeg" alt="img"></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KFtNMznxEN04JsycVqmycE1RBQjrFeMfHHV2bznDwCGMcoAiamVR5picw.jpeg" alt="img"></p>
<p>小史把面试情况和吕老师说了一下。</p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5KGToejuGDqXmjOUD2TnBXZQMJHxZFKosoB9oEmzydlbiacFz36nDLs7g.jpeg" alt="img"></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="img"></p>
<p>小史：感悟还挺深的。虽然平时做过<code>topN</code>的问题，知道分治法时间更少。但是碰到具体问题的时候还是要具体分析，这种大数据量的情况下反而用堆会更快。</p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5K749FKuicpZF3zkCTSmINRhPq0DInP2KBafR3AeTs712hw6JciaL69G0g.jpeg" alt="img"></p>
<p><img src="//blog.com/2019/05/24/如何在10亿数中找出前1000大的数/1eDWTgj1vzeYy3q8aVysD3OqX0DsAj5K1PFPbcfmYLuicIrHSusXYF6jkoSR3oPavTxIUcm9slSRa3twyKDJH4w.jpeg" alt="img"></p>
<hr>
<p>面试现场是互联网侦察推出的一个新的板块，旨在回放真实的面试过程，并对面试题进行全面解析，提供多种思路，比较优劣，希望对大家的面试有所帮助。</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/算法/" rel="tag"># 算法</a>
          
            <a href="/tags/面试现场/" rel="tag"># 面试现场</a>
          
            <a href="/tags/数据结构/" rel="tag"># 数据结构</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/05/24/如何找到字符串中的最长回文子串/" rel="next" title="如何找到字符串中的最长回文子串">
                <i class="fa fa-chevron-left"></i> 如何找到字符串中的最长回文子串
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/05/24/如何判断一个数是否在40亿个整数中/" rel="prev" title="如何判断一个数是否在40亿个整数中">
                如何判断一个数是否在40亿个整数中 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">刘泽明</p>
              <p class="site-description motion-element" itemprop="description">做一个懂业务的程序员</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">731</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">394</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">237</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#如何在10亿数中找出前1000大的数"><span class="nav-number">1.</span> <span class="nav-text">如何在10亿数中找出前1000大的数</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2017 &mdash; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-[object Object]"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">刘泽明</span>

  
</div>









        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

</body>
</html>
